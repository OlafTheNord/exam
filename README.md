# Экхамен: Калькулятор с историей и расширенной обработкой

## Описание задачи

Разработать консольное приложение на Go — **Калькулятор**, который поддерживает:

- Ввод чисел и операций с полной проверкой и обработкой ошибок.
- Историю вычислений (в памяти за сессию), с возможностью просмотреть список последних операций.
- Расширенные арифметические операции: `+`, `-`, `*`, `/`, `%` (остаток от деления), и функцию вычисления **среднего арифметического** всех введённых чисел.
- Возможность отмены последней операции (Undo).

---

## Требования к функционалу

### 1. Ввод данных

- Ввод чисел с проверкой:
    - Если ввод некорректен, повторять запрос.
    - Ввод слова `Stop` (регистронезависимо) — прерывает программу.
- Ввод операции с проверкой:
    - Поддерживаются операции: `+`, `-`, `*`, `/`, `%`, `avg` (вычислить среднее всех введённых чисел).
    - При неправильном вводе операции — повторять запрос.
- Специальная команда `history` — выводит список всех выполненных операций (формат: `1 + 2 = 3`).
- Специальная команда `undo` — отменяет последнюю операцию, удаляет её из истории и корректирует данные.

### 2. Логика операций

- Все арифметические операции реализованы в отдельном пакете `calc`.
- Функции операций должны принимать числа и возвращать результат (для `/` и `%` обязательно возвращать ошибку при делении на ноль).
- Функция `Average(numbers []int) float64` — вычисляет среднее всех чисел, введённых пользователем до текущего момента (включая результаты операций).

### 3. История и Undo

- История хранится в памяти в виде списка структур, каждая с полями:
    - `Operand1 int`
    - `Operation string`
    - `Operand2 int` (если применимо, для `avg` можно пустое значение)
    - `Result float64`
- При команде `history` — выводить все операции с их результатами.
- При команде `undo` — удалять последнюю операцию из истории, корректировать текущий список чисел для `avg` и показывать сообщение об успешном удалении.
- При пустой истории `undo` должен информировать, что нечего отменять.

### 4. Общие требования

- Вся логика арифметики и работы с историей в пакете `calc`.
- Основная программа (`main`) отвечает за ввод/вывод и взаимодействие с пользователем.
- Обработка всех ошибок и вводов — повторный запрос до корректного значения.
- Использовать комментарии и четкую структуру кода.
- При вводе `Stop` — программа должна выводить финальную сводку (итоговое количество операций, итоговое среднее значение) и завершаться.

---

